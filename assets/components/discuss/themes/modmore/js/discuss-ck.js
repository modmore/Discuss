function surroundText(e,t){var n=$("#dis-thread-message")[0];if(typeof n.caretPos!="undefined"&&n.createTextRange){var r=n.caretPos,i=r.text.length;r.text=r.text.charAt(r.text.length-1)==" "?e+r.text+t+" ":e+r.text+t;if(i==0){r.moveStart("character",-t.length);r.moveEnd("character",-t.length);r.select()}else n.focus(r)}else if(typeof n.selectionStart!="undefined"){var s=n.value.substr(0,n.selectionStart),o=n.value.substr(n.selectionStart,n.selectionEnd-n.selectionStart),u=n.value.substr(n.selectionEnd),a=n.selectionStart,f=n.scrollTop;n.value=s+e+o+t+u;if(n.setSelectionRange){o.length==0?n.setSelectionRange(a+e.length,a+e.length):n.setSelectionRange(a,a+e.length+o.length+t.length);n.focus()}n.scrollTop=f}else{n.value+=e+t;n.focus(n.value.length-1)}}function isEmptyText(e){var t=e.value;while(t.length>0&&(t.charAt(0)==" "||t.charAt(0)=="	"))t=t.substring(1,t.length);while(t.length>0&&(t.charAt(t.length-1)==" "||t.charAt(t.length-1)=="	"))t=t.substring(0,t.length-1);return t==""}function storeCaret(e){typeof e.createTextRange!="undefined"&&(e.caretPos=document.selection.createRange().duplicate())}function replaceText(e){var t=$("#dis-thread-message")[0];if(typeof t.caretPos!="undefined"&&t.createTextRange){var n=t.caretPos;n.text=n.text.charAt(n.text.length-1)==" "?e+" ":e;n.select()}else if(typeof t.selectionStart!="undefined"){var r=t.value.substr(0,t.selectionStart),i=t.value.substr(t.selectionEnd),s=t.scrollTop;t.value=r+e+i;if(t.setSelectionRange){t.focus();t.setSelectionRange(r.length+e.length,r.length+e.length)}t.scrollTop=s}else{t.value+=e;t.focus(t.value.length-1)}}$(document).ready(function(){$(".dis-error").hide();$(".dis-cat-header").click(DISBoard.toggleCategory)});var DIS={config:{},baseAjax:{type:"POST",dataType:"json",failure:function(e){DIS._showError(e)}},_showError:function(e,t){var n=$(".dis-error");if(t){n.removeClass("error");n.addClass("success")}else{n.removeClass("success");n.addClass("error")}$(".dis-error .dis-content").html(e);n.hide().fadeIn(300);setTimeout("DIS._closeError();",5e3)},_closeError:function(){$(".dis-error").fadeOut(300)}},DISBar={state:"open",toggle:function(){$(".dis-bar-content").slideToggle();if(DISBar.state=="open"){DISBar.state="closed";$(".dis-bar-toggle").text("Open Bar")}else{DISBar.state="open";$(".dis-bar-toggle").text("Close Bar")}}},DISBoard={toggleCategory:function(){var e=$(this).parent().attr("id");$("div."+e).slideToggle()}};jQuery.q=function(e,t){var n=typeof e=="string"?e:window.location.search,r={f:function(e){return unescape(e).replace(/\+/g," ")}},i={};t=typeof e=="object"&&typeof t=="undefined"?e:t;r=jQuery.extend({},r,t);jQuery.each(n.match(/^\??(.*)$/)[1].split("&"),function(e,t){t=t.split("=");t[1]=r.f(t[1]);i[t[0]]=i[t[0]]?i[t[0]]instanceof Array?(i[t[0]].push(t[1]),i[t[0]]):[i[t[0]],t[1]]:t[1]});return i};